# Лабораторная работа 1

**Название:** "Разработка драйверов символьных устройств"

**Цель работы:** Получить знания и навыки разработки драйверов символьных устройств для операционной системы Linux.

## Описание функциональности драйвера
При записи текста в файл символьного устройства драйвер запоминает количество пробелов в введенном тексте. При чтении файла /proc/var4 в консоль пользователя выводится последовательность полученных результатов с момента загрузки модуля ядра. Те же данные выводятся в кольцевой буфер при чтении из файла символьного устройства lab1_ch_dev.


## Инструкция по сборке

Для сборки драйвера необходимо ввести команду make.


## Инструкция пользователя

Для запуска драйвера необходимо ввести команду `sudo insmod lab1.ko && sudo chmod 0666 /dev/lab1_ch_dev`, которая загружает модуль ядра в систему и устанавливает необходимые права доступа.  
Для выгрузки модуля драйвера нужно ввести команду `sudo rmmod lab1`.

Для записи текста можно использовать команду `echo "text" > dev/lab1_ch_dev`, где вместо `text` подставляется пользовательский текст. После записи текста драйвер сохраняет количество пробелов в введенном тексте.

Для просмотра списка полученных результатов можно ввести команду `cat /proc/var4`.  
Можно так же использовать команду `cat /dev/lab1_ch_dev` для вывода результатов в кольцевой буфер. Используйте `dmesg` для просмотра кольцевого буфера и `sudo dmesg --clear` для его очистки.


## Примеры использования
Ввод текста в символьное устройство и считывание результатов из файла /proc/var4
![example](https://i.imgur.com/OZC73TP.jpg)

Ввод текста в символьное устройство и считывание результатов из кольцевого буфера
![example_dmesg_1](https://i.imgur.com/7lR8CrU.png)
![example_dmesg_2](https://i.imgur.com/3Tnjn1K.png)
